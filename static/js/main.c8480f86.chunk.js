(this["webpackJsonpminesweeper-redux"]=this["webpackJsonpminesweeper-redux"]||[]).push([[0],{22:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n(0),s=n.n(a),r=n(10),o=n.n(r),c=(n(22),n(5)),l=n(6),u=n(9),h=n(8),d=n(4),p=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"getValue",value:function(){return this.props.value.isRevealed?this.props.value.isMine?"\ud83d\udca3":0===this.props.value.neighbor?null:this.props.value.neighbor:this.props.value.isFlagged?"\ud83d\udea9":null}},{key:"render",value:function(){var e="cell"+(this.props.value.isRevealed?"":" hidden")+(this.props.value.isMine?" is-mine":"")+(this.props.value.isFlagged?" is-flag":"");return Object(i.jsx)("div",{ref:"cell",onClick:this.props.onClick,className:e,onContextMenu:this.props.cMenu,children:this.getValue()})}}]),n}(s.a.Component),m=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(c.a)(this,n),console.log("in constructor"),t.call(this,e)}return Object(l.a)(n,[{key:"getMines",value:function(e){var t=[];return console.log("data ",e),e.map((function(e){e.map((function(e){e.isMine&&t.push(e)})),console.log("row ",e)})),t}},{key:"getFlags",value:function(e){var t=[];return e.map((function(e){e.map((function(e){e.isFlagged&&t.push(e)}))})),t}},{key:"getHidden",value:function(e){var t=[];return e.map((function(e){e.map((function(e){e.isRevealed||t.push(e)}))})),t}},{key:"getRandomNumber",value:function(e){return Math.floor(1e3*Math.random()+1)%e}},{key:"initBoardData",value:function(e,t,n){for(var i=[],a=0;a<e;a++){i.push([]);for(var s=0;s<t;s++)i[a][s]={x:a,y:s,isMine:!1,neighbor:0,isRevealed:!1,isEmpty:!1,isFlagged:!1}}return i=this.plantMines(i,e,t,n),i=this.getNeighbors(i,e,t)}},{key:"plantMines",value:function(e,t,n,i){for(var a,s,r=0;r<i;)s=this.getRandomNumber(n),e[a=this.getRandomNumber(t)][s].isMine||(e[a][s].isMine=!0,r++);return e}},{key:"getNeighbors",value:function(e,t,n){for(var i=this,a=e,s=0;s<t;s++)for(var r=0;r<n;r++)!0!==e[s][r].isMine&&function(){var o=0;i.traverseBoard(e[s][r].x,e[s][r].y,e,t,n).map((function(e){e.isMine&&o++})),0===o&&(a[s][r].isEmpty=!0),a[s][r].neighbor=o}();return a}},{key:"traverseBoard",value:function(e,t,n,i,a){var s=[];return e>0&&t>0&&s.push(n[e-1][t-1]),e>0&&s.push(n[e-1][t]),e>0&&t<a-1&&s.push(n[e-1][t+1]),t<a-1&&s.push(n[e][t+1]),e<i-1&&t<a-1&&s.push(n[e+1][t+1]),e<i-1&&s.push(n[e+1][t]),e<i-1&&t>0&&s.push(n[e+1][t-1]),t>0&&s.push(n[e][t-1]),s}},{key:"revealBoard",value:function(){var e=this.props.boardData;e.map((function(e){e.map((function(e){e.isRevealed=!0}))}));var t=this.props.dispatch,n={type:"UPDATE_BOARD",boardData:e};console.log(n),t(n),this.setState({boardData:e})}},{key:"revealEmpty",value:function(e,t,n){var i=this;return console.log("reveal empty",this.props),this.traverseBoard(e,t,n,this.props.height,this.props.width).map((function(e){e.isRevealed||!e.isEmpty&&e.isMine||(n[e.x][e.y].isRevealed=!0,e.isEmpty&&i.revealEmpty(e.x,e.y,n))})),n}},{key:"handleCellClick",value:function(e,t){var n=!1;if(console.log("this ",this.props.boardData[e][t]),this.props.boardData[e][t].isRevealed)return null;this.props.boardData[e][t].isMine&&(this.revealBoard(),alert("game over"));var i=this.props.boardData;i[e][t].isFlagged=!1,i[e][t].isRevealed=!0,i[e][t].isEmpty&&(i=this.revealEmpty(e,t,i)),this.getHidden(i).length===this.props.mines&&(n=!0,this.revealBoard(),alert("You Win"));var a=this.props.dispatch,s={type:"CELL_CLICK",boardData:i,gameWon:!1,mineCount:this.props.mines-this.getFlags(i).length};console.log(s),a(s),this.setState({boardData:i,mineCount:this.props.mines-this.getFlags(i).length,gameWon:n})}},{key:"handleContextMenu",value:function(e,t,n){e.preventDefault();var i=this.props.boardData,a=this.props.mineCount,s=!1;if(!i[t][n].isRevealed){if(i[t][n].isFlagged?(i[t][n].isFlagged=!1,a++):(i[t][n].isFlagged=!0,a--),0===a){var r=this.getMines(i),o=this.getFlags(i);(s=JSON.stringify(r)===JSON.stringify(o))&&(this.revealBoard(),alert("You Win"))}var c=this.props.dispatch,l={type:"CELL_CLICK",boardData:i,gameWon:!1,mineCount:a};console.log(l),c(l),this.setState({boardData:i,mineCount:a,gameWon:s})}}},{key:"renderBoard",value:function(e){var t=this;return e.map((function(e){return e.map((function(n){return Object(i.jsxs)("div",{children:[Object(i.jsx)(p,{onClick:function(){return t.handleCellClick(n.x,n.y)},cMenu:function(e){return t.handleContextMenu(e,n.x,n.y)},value:n}),e[e.length-1]===n?Object(i.jsx)("div",{className:"clear"}):""]},n.x*e.length+n.y)}))}))}},{key:"render",value:function(){return console.log("props ",this.props),Object(i.jsxs)("div",{className:"board",children:[Object(i.jsxs)("div",{className:"game-info",children:[Object(i.jsxs)("span",{className:"info",children:["mines: ",this.props.mineCount]}),Object(i.jsx)("br",{}),Object(i.jsx)("span",{className:"info",children:this.props.gameWon?"You Win":""})]}),this.renderBoard(this.props.boardData)]})}}]),n}(s.a.Component),g=m=Object(d.b)((function(e){return{boardData:e.boardData,gameWon:e.gameWon,mineCount:e.mineCount}}))(m),v=n(16),b=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(c.a)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).handleGameStart=function(){var t=e.props.dispatch;console.log(g);var n={type:"CREATE_BOARD",width:parseInt(document.getElementById("width").value),height:parseInt(document.getElementById("height").value),mines:parseInt(document.getElementById("mines").value),boardData:g.WrappedComponent.prototype.initBoardData(parseInt(document.getElementById("height").value),parseInt(document.getElementById("width").value),parseInt(document.getElementById("mines").value))};t(n),console.log("game action ",n),console.log("game props ",e.props),console.log("state in handleGameStart",e.state)},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(i.jsxs)("div",{className:"game",children:[Object(i.jsxs)("div",{className:"game-info",children:[Object(i.jsxs)("div",{className:"instructions",children:[Object(i.jsx)("h4",{"data-tip":!0,"data-for":"tooltip",children:"Rules"}),Object(i.jsx)(v.a,{id:"tooltip",place:"top",effect:"solid",children:"You are presented with a board of squares. Some squares contain mines (bombs), others don't. If you click on a square containing a bomb, you lose. If you manage to click all the squares (without clicking on any bombs) or flag all the mines, you win. Clicking a square which doesn't have a bomb reveals the number of neighboring squares containing bombs. Use this information plus some guess work to avoid the bombs. To open a square, point at the square and click on it. To mark a square you think is a bomb, point and right-click."})]}),Object(i.jsx)("h4",{children:'Select a level a click "start"'}),Object(i.jsxs)("span",{className:"info",children:["Choose Size:",Object(i.jsx)("input",{type:"number",id:"height",min:"4",max:"45",placeholder:"Enter Height"}),Object(i.jsx)("input",{type:"number",id:"width",min:"4",max:"45",placeholder:"Enter Width"}),Object(i.jsx)("input",{type:"number",id:"mines",min:"1",placeholder:"Enter Mine Qty"})]}),Object(i.jsx)("button",{onClick:this.handleGameStart,children:"Start"})]}),Object(i.jsx)(g,{height:this.props.height,width:this.props.width,mines:this.props.mines})]})}}]),n}(s.a.Component),f=b=Object(d.b)((function(e){return{width:e.width,height:e.height,mines:e.mines}}))(b);var j=function(){return Object(i.jsx)(s.a.Fragment,{children:Object(i.jsx)("div",{id:"header",children:Object(i.jsx)("p",{id:"header-title",children:"Minesweeper"})})})};var y=function(){return Object(i.jsx)(s.a.Fragment,{children:Object(i.jsx)("div",{id:"footer",children:Object(i.jsxs)("p",{children:["This site is only an example project for ",Object(i.jsx)("a",{href:"https://www.epicodus.com/",children:"Epicodus"})]})})})};var O=function(){return Object(i.jsx)(s.a.Fragment,{children:Object(i.jsxs)("div",{className:"contain",children:[Object(i.jsx)(j,{}),Object(i.jsx)("div",{id:"spacing",children:Object(i.jsx)(f,{})}),Object(i.jsx)(y,{})]})})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,30)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),s(e),r(e)}))},C=n(7),E=Object(C.b)({boardData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CELL_CLICK":case"UPDATE_BOARD":case"CREATE_BOARD":case"INITIALIZE_BOARD":return t.boardData;default:return e}},gameWon:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CELL_CLICK":case"INITIALIZE_BOARD":return t.gameWon;default:return e}},mineCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CELL_CLICK":case"INITIALIZE_BOARD":return t.mineCount;default:return e}},height:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_BOARD":return t.height;default:return e}},mines:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_BOARD":return t.mines;default:return e}},width:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_BOARD":return t.width;default:return e}}}),k=Object(C.c)(E);o.a.render(Object(i.jsx)(d.a,{store:k,children:Object(i.jsx)(O,{})}),document.getElementById("root")),x()}},[[28,1,2]]]);
//# sourceMappingURL=main.c8480f86.chunk.js.map